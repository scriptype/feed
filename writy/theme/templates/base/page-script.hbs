{{#if (isHomePage)}}
  <script type="module">
    import search from '{{assetsPath}}/common/search/search.js'
    import graph from '{{assetsPath}}/custom/graph.js'
    import tags from '{{assetsPath}}/custom//tags.js'

    graph.init()
    tags.init()
    search.init({
      onReset: () => {
        graph.init()
      }
    })
  </script>
{{/if}}

{{#if (isTagPage)}}
  <script type="module">
    import search from '{{assetsPath}}/common/search/search.js'
    import graph from '{{assetsPath}}/custom/graph.js'
    import tags from '{{assetsPath}}/custom//tags.js'

    const linkIsTagged = (link) => link.tags.includes('{{tag.tag}}')
    graph.init(linkIsTagged)
    tags.init()
    search.init({
      onReset: () => {
        graph.init(linkIsTagged)
      }
    })
  </script>
{{/if}}
