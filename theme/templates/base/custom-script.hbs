{{#if (hasCustomScript)}}
<script type="module" src="{{assetsPath}}/custom/script.js"></script>
{{/if}}

<script src="{{assetsPath}}/custom/script/vendor/scrollbooster.min.js"></script>

{{#if (isHomePage)}}
  <script type="module">
    import dictionary from '{{assetsPath}}/common/dictionary.js'
    import search from '{{assetsPath}}/common/search/search.js'
    import graph from '{{assetsPath}}/custom/script/graph.js'
    import tags from '{{assetsPath}}/custom/script/tags.js'

    graph.init()
    tags.init()
    dictionary.ready(() => {
      search.init({
        onReset: () => {
          graph.init()
        }
      })
    })
  </script>
{{/if}}

{{#if (isTagPage)}}
  <script type="module">
    import dictionary from '{{assetsPath}}/common/dictionary.js'
    import search from '{{assetsPath}}/common/search/search.js'
    import graph from '{{assetsPath}}/custom/script/graph.js'
    import tags from '{{assetsPath}}/custom/script/tags.js'

    const linkIsTagged = (link) => link.tags.includes('{{tag.tag}}')
    graph.init(linkIsTagged)
    tags.init()
    dictionary.ready(() => {
      search.init({
        onReset: () => {
          graph.init(linkIsTagged)
        }
      })
    })
  </script>
{{/if}}
