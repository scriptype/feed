{{#if (not (isTagsPage))}}
<script src="{{assetsPath}}/custom/script/vendor/scrollbooster.min.js"></script>
<script type="module">
  import dictionary from '{{assetsPath}}/common/dictionary.js'
  import search from '{{assetsPath}}/common/search/search.js'
  import graph from '{{assetsPath}}/custom/script/graph.js'
  import tags from '{{assetsPath}}/custom/script/tags.js'

  const urlParts = window.location.pathname
    .replace(window.permalinkPrefix, '')
    .split('/')
    .filter(Boolean)
  let tag
  if (urlParts.includes('tags')) {
    tag = urlParts[1]
  }
  graph.init({ tag })
  tags.init()
  dictionary.ready(() => {
    search.init({
      onReset: () => {
        graph.init({ tag })
      }
    })
  })
  document.body.classList.add('js-enhanced')
</script>
{{/if}}

{{#if (hasCustomScript)}}
<script type="module" src="{{assetsPath}}/custom/script.js"></script>
{{/if}}
